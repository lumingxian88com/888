<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>è™Ÿç¢¼ç›£æ§ç«™ (å«æ¬¡æ•¸çµ±è¨ˆ)</title>
    <style>
        .num-box { border:3px solid red; padding:20px; font-size:24px; font-weight:bold; margin-bottom:20px; }
        .freq-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .freq-table th, .freq-table td { border: 1px solid #ccc; padding: 8px; text-align: center; }
        .freq-table th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <script> var allHistoryData = []; </script>

    <script src="2020.js"></script>
    <script src="2021.js"></script>
    <script src="2022.js"></script>
    <script src="2023.js"></script>
    <script src="2024.js"></script>
    <script src="2025.js"></script>

    <h2>ç›®å‰ç‹€æ…‹ï¼š<span id="stat">æª¢æŸ¥ä¸­...</span></h2>
    
    <h3>æœ€æ–°ä¸€æœŸï¼š</h3>
    <div id="box" class="num-box"></div>

    <h3>2020-2025 ç¸½æ¬¡æ•¸çµ±è¨ˆ (01-39)ï¼š</h3>
    <div id="freq-display"></div>

    <script>
        window.onload = function() {
            if (allHistoryData.length > 0) {
                // --- A. æ’åºä¸¦é¡¯ç¤ºæœ€æ–°ä¸€æœŸ ---
                allHistoryData.sort((a, b) => new Date(b.date) - new Date(a.date));
                var top = allHistoryData[0];
                document.getElementById('stat').innerText = "âœ… å·²é€£ç·š";
                document.getElementById('box').innerHTML = 
                    "ğŸ“… æ—¥æœŸï¼š" + top.date + "<br>" +
                    "ğŸ”¢ è™Ÿç¢¼ï¼š" + top.xs.join(" , ");

                // --- B. è‡ªå‹•çµ±è¨ˆ 01-39 å‡ºç¾æ¬¡æ•¸ ---
                var counts = new Array(40).fill(0); // æº–å‚™ 1-39 çš„è¨ˆæ•¸å™¨
                allHistoryData.forEach(item => {
                    if (item.xs && item.xs.length === 5) {
                        item.xs.forEach(numStr => {
                            var n = parseInt(numStr, 10);
                            if (n >= 1 && n <= 39) counts[n]++;
                        });
                    }
                });

                // --- C. æŠŠæ¬¡æ•¸é¡¯ç¤ºæˆè¡¨æ ¼ ---
                var html = '<table class="freq-table"><tr><th>è™Ÿç¢¼</th>';
                // è¡¨æ ¼æ¨™é¡Œ (01-10, 11-20...)
                for (let i = 1; i <= 39; i++) {
                    let displayNum = i < 10 ? "0" + i : i;
                    html += `<td>${displayNum}</td>`;
                }
                html += '</tr><tr><th>æ¬¡æ•¸</th>';
                for (let i = 1; i <= 39; i++) {
                    html += `<td>${counts[i]}</td>`;
                }
                html += '</tr></table>';
                document.getElementById('freq-display').innerHTML = html;

            } else {
                document.getElementById('stat').innerText = "âŒ æ²’è³‡æ–™ï¼Œè«‹æª¢æŸ¥æª”æ¡ˆå…§å®¹æ ¼å¼æ˜¯å¦ç‚º concat";
            }
        };
    </script>
</body>
</html>
