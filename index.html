<script src="11-19.js"></script>
<script src="20-23.js"></script>
<script src="2024.js"></script>
<script src="2025.js"></script>

<script>
    // 1. 初始化總表
    var allHistoryData = [];

    // 2. 安全合體 (加上檢查，避免因為某個變數沒定義而白屏)
    try {
        if (typeof data2025 !== 'undefined') allHistoryData = allHistoryData.concat(data2025);
        if (typeof data2024 !== 'undefined') allHistoryData = allHistoryData.concat(data2024);
        if (typeof data20_23 !== 'undefined') allHistoryData = allHistoryData.concat(data20_23);
        if (typeof data11_19 !== 'undefined') allHistoryData = allHistoryData.concat(data11_19);
    } catch (e) {
        console.error("資料合併出錯:", e);
    }

    // 3. 自動算次數
    var yearFreq = new Array(39).fill(0);
    if (allHistoryData.length > 0) {
        allHistoryData.forEach(item => {
            if (item.xs && Array.isArray(item.xs)) {
                item.xs.forEach(num => {
                    let idx = parseInt(num, 10) - 1;
                    if (idx >= 0 && idx < 39) yearFreq[idx]++;
                });
            }
        });
    }

    // 4. 畫圖 (請確認你的繪圖 function 名字)
    // 如果原本叫 drawChart 就改回 drawChart
    if (typeof drawMyChart1 === 'function') {
        drawMyChart1(yearFreq);
    } else {
        console.error("找不到畫圖的 function！請檢查 drawMyChart 名稱是否正確");
    }
</script>

