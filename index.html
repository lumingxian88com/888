<script src="11-19.js"></script>
<script src="20-23.js"></script>
<script src="2024.js"></script>
<script src="2025.js"></script>

<script>
    // 建立總清單
    var allHistoryData = [];

    // 合併所有年份 (這裡的名字要跟 JS 檔案裡的 var 名稱一樣)
    try {
        if (typeof data2025 !== 'undefined') allHistoryData = allHistoryData.concat(data2025);
        if (typeof data2024 !== 'undefined') allHistoryData = allHistoryData.concat(data2024);
        if (typeof data20_23 !== 'undefined') allHistoryData = allHistoryData.concat(data20_23);
        if (typeof data11_19 !== 'undefined') allHistoryData = allHistoryData.concat(data11_19);
    } catch (e) {
        console.log("合併時有檔案還沒準備好，沒關係");
    }

    // 自動計算這 15 年來的總次數
    var yearFreq = new Array(39).fill(0);
    allHistoryData.forEach(item => {
        if (item.xs) {
            item.xs.forEach(num => {
                let idx = parseInt(num, 10) - 1;
                if (idx >= 0 && idx < 39) yearFreq[idx]++;
            });
        }
    });

    // === 接下來這段是關鍵：把算好的 yearFreq 畫出來 ===
    // 這裡放你原本畫 Chart.js 的程式碼
    // 假設你的圖表物件叫 myChart，就寫：
    if (typeof myChart !== 'undefined') {
        myChart.data.datasets[0].data = yearFreq;
        myChart.update();
    }
</script>
