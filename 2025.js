// 2025.js

// 1. 原始號碼清單 (只要負責把號碼填進去就好)
const rawData = [
    ["05","10","17","28","35"], // 12/29 (週一)
    ["01","15","19","28","38"], // 12/27 (週六)
    ["01","10","20","27","36"], // 12/26 (週五)
    ["14","18","28","36","39"], ["02","03","14","25","30"], ["09","22","24","30","35"],
    ["02","22","24","27","38"], ["01","05","16","35","38"], ["12","16","23","27","30"],
    ["04","09","32","33","36"], ["05","06","07","19","32"], ["02","10","14","33","35"],
    ["03","17","27","29","38"], ["02","09","21","31","38"], ["10","24","26","28","35"],
    ["02","06","17","25","26"], ["04","07","11","16","26"], ["07","08","15","30","39"],
    ["05","23","27","28","31"], ["06","22","23","24","32"], ["02","03","16","17","29"],
    ["01","07","20","25","37"], ["05","09","14","33","35"], ["02","05","08","13","29"],
    ["02","03","04","20","24"], ["08","27","30","33","36"], ["08","13","14","22","28"],
    ["07","19","22","25","28"], ["08","06","12","22","34"], ["09","30","36","38","39"],
    ["02","04","05","17","31"], ["10","13","32","33","37"], ["05","10","17","28","35"],
    ["01","05","33","36","38"], ["03","11","20","28","31"], ["14","24","31","36","37"],
    ["04","07","16","16","29"], ["12","20","25","28","29"], ["02","11","15","37","38"],
    ["13","18","20","23","36"], ["01","04","09","14","22"], ["05","19","31","34","39"],
    ["07","14","15","17","30"], ["07","08","09","26","34"], ["22","27","30","32","37"],
    ["07","24","28","31","32"], ["11","14","15","27","39"], ["01","07","12","29","39"],
    ["24","25","34","36","37"], ["08","12","19","27","28"], ["11","18","25","26","33"],
    ["05","27","28","31","37"], ["26","32","33","36","39"], ["18","20","25","29","31"],
    ["03","20","26","31","37"], ["03","04","11","21","34"], ["08","11","13","37","38"],
    ["18","15","27","37","38"], ["03","04","20","25","28"], ["13","22","30","37","38"],
    ["06","13","22","23","27"], ["02","17","32","35","38"]
];

// 2. JS 自動計算次數邏輯 (取代原本手寫的 yearFreq)
function calculateFreq(data) {
    let freq = new Array(39).fill(0); // 建立 01-39 的計數器
    data.forEach(row => {
        row.forEach(num => {
            let n = parseInt(num, 10);
            if (n >= 1 && n <= 39) freq[n-1]++;
        });
    });
    return freq;
}

// 將計算結果存入 yearFreq 變數，供網頁讀取
var yearFreq = calculateFreq(rawData);

// 3. 日期對齊與資料串接
function process2025(dataArray) {
    let result = [];
    let curr = new Date("2025-12-29"); // 設為最新一期的日期
    let count = 0;
    while(count < dataArray.length) {
        if(curr.getDay() !== 0) { 
            let dateStr = `${curr.getFullYear()}/${(curr.getMonth()+1).toString().padStart(2,'0')}/${curr.getDate().toString().padStart(2,'0')}`;
            result.push({ date: dateStr, xs: dataArray[count] });
            count++;
        }
        curr.setDate(curr.getDate() - 1);
    }
    return result;
}

// 正式塞進大籃子
allHistoryData = allHistoryData.concat(process2025(rawData));
